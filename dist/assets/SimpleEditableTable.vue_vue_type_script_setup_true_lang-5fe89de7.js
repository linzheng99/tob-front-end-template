import{_ as w}from"./index.vue_vue_type_script_setup_true_lang-0d8a47df.js";import{e as k,aR as S,am as i,f as r,Y as x,Z as C,$ as E}from"./index-798afc94.js";const q={class:"h-full flex flex-col"},A=k({__name:"SimpleEditableTable",setup(v){S(()=>{g()});const u=i({type:1,name:"lin"}),o=r(),s=r([]),d=i([{title:"序号",align:"center",key:"index",width:60,fixed:"left",render:(e,t)=>`${t+1}`},{title:"姓名",key:"name",align:"center",width:250,editable:!0},{title:"年龄",key:"age",align:"center",width:250,editable:!0},{title:"地址",key:"address",align:"center",width:250,editable:!0}]),m=i({key:"_action",title:"操作",align:"center",fixed:"right",width:200,actions:e=>f(e)});function f(e){const t=e.editable;return[{iconConfig:{icon:"ep-search"},title:e.editable?"保存":"编辑",componentProps:{type:"primary"}},{show:!!t,iconConfig:{icon:"ep-search"},title:"取消",componentProps:{type:"primary"}}]}function p(e){console.warn(e)}function h(e){const{record:t,key:a}=e;console.warn(t,a)}async function _(e){var n,c,l;const{record:t,title:a}=e;switch(a){case"编辑":await((n=t.onEdit)==null?void 0:n.call(t,!0));break;case"保存":await((c=t.onSubmitEdit)==null?void 0:c.call(t));break;case"取消":(l=t.onCancelEdit)==null||l.call(t);break}}async function g(){var e;await((e=o.value)==null?void 0:e.reloadData())}function b(e){s.value=e}function y(){return new Promise(e=>{setTimeout(()=>{const t=Array.from({length:9}).map((a,n)=>({name:`name - ${n}`,age:18,address:`address - ${n}`}));e({content:{data:t,total:t.length},code:200,msg:"success"})},1e3)})}return(e,t)=>(x(),C("div",q,[E(w,{ref_key:"tableRef",ref:o,class:"flex-1",data:s.value,columns:d,"request-api":y,"action-column":m,"request-params":u,onRequestSuccess:b,onHandleAction:_,onEditSubmit:p,onEditChange:h},null,8,["data","columns","action-column","request-params"])]))}});export{A as _};
